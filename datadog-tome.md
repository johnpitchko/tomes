# Tome of Data Dog

## Install DataDog agent on VM
Visit Integrations > Agent to find the install command based on host OS

View the status of the agent
`datadog-agent status`

Start/stop/restart the agent
```
$ systemctl start datadog-agentâ€¨
$ systemctl stop datadog-agent
$ systemctl restart datadog-agent
```
### Configuration
See the `Datadog-agent/datadog.yaml` file

## Install DataDog Agent on Docker
- Configuration in `docker-compose.yml`. Specify links, image, environment, and volumes
- `docker-compose exec Datadog agent status` to execute the `agent status` command inside the `Datadog` container
- When using Docker, Datadog Agent config is done within the environment variables in the `docker-compose.yaml`
    - NOTE the `docker-compose.yaml` file cannot contain whitespace!

## Setting up integrations on VM
Configuration files for integrations can be found in the `/datadog/conf.d` directory. Each subdirectory holds configuration files for its specific integration. Example configuration files are included. You can rename them to activate the integration. E.g. rename `conf.yaml.example` to `conf.yaml`, then restart the agent.

When an integration is enabled, it will be listed under the Collector section of the Datadog status report (i.e. `Datadog-agent status`).

## Setting up integrations on VM

## Monitor Rails Applications with Datadog

`ddtrace` is the gem to monitor/integrate Datadog with Rails. *Datadog Agent must be installed on environments first!* Trace events generated by the Rails app is transmitted to Datadog via the agent on the host.

Refer to [Datadog Docs](https://docs.datadoghq.com/tracing/setup_overview/setup/ruby/#quickstart-for-rails-applications) for details

Add to GEMFILE:

```
gem 'ddtrace', require: 'ddtrace/auto_instrument'
```
